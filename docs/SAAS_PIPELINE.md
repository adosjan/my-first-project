# SaaS Ideas Pipeline — Архитектура

## Цель
Автоматический конвейер для поиска, анализа и валидации SaaS-идей.

## Стек
- **Сбор данных:** Python скрипты (Google Trends, Reddit, HackerNews, Product Hunt)
- **Оркестрация:** n8n (self-hosted, бесплатно)
- **AI-анализ:** Claude API / Groq (бесплатно)
- **Хранение:** JSON → SQLite → Supabase
- **Уведомления:** Telegram

---

## Архитектура конвейера

```
┌─────────────────────────────────────────────────────────────────┐
│                     ИСТОЧНИКИ ДАННЫХ                            │
│                     (ежедневный сбор)                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐          │
│  │ Google       │  │ Reddit       │  │ HackerNews   │          │
│  │ Trends       │  │ r/SaaS       │  │ API          │          │
│  │ (pytrends)   │  │ r/startups   │  │ (бесплатно)  │          │
│  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘          │
│         │                 │                 │                   │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐          │
│  │ Product Hunt │  │ GitHub       │  │ IndieHackers │          │
│  │ GraphQL API  │  │ Trending     │  │ RSS          │          │
│  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘          │
│         │                 │                 │                   │
└─────────┼─────────────────┼─────────────────┼───────────────────┘
          │                 │                 │
          └────────────────┬┴─────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────────┐
│                        n8n WORKFLOW                             │
│                   (оркестрация процесса)                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │  Trigger    │───▶│  Collect    │───▶│  Aggregate  │         │
│  │  (cron)     │    │  Data       │    │  & Clean    │         │
│  │  09:00 UTC  │    │             │    │             │         │
│  └─────────────┘    └─────────────┘    └──────┬──────┘         │
│                                               │                 │
│                                               ▼                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │  Notify     │◀───│  Score &    │◀───│  Claude/    │         │
│  │  Telegram   │    │  Rank       │    │  Groq AI    │         │
│  └─────────────┘    └─────────────┘    └─────────────┘         │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────────┐
│                      AI АНАЛИЗ (Claude)                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  1. Извлечение SaaS-идей из сырых данных                       │
│  2. Оценка потенциала (1-10)                                   │
│  3. Анализ конкурентов                                         │
│  4. Оценка сложности MVP                                       │
│  5. Предложения по монетизации                                 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────────┐
│                         ВЫХОД                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐          │
│  │ JSON Report  │  │ Telegram     │  │ Dashboard    │          │
│  │ (ежедневно)  │  │ Notification │  │ (будущее)    │          │
│  └──────────────┘  └──────────────┘  └──────────────┘          │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## Этапы конвейера

### 1. Сбор данных (Data Collection)
| Источник | Что собираем | Частота |
|----------|--------------|---------|
| Google Trends | Растущие поисковые запросы | 1x/день |
| Reddit | Посты из r/SaaS, r/startups, r/microsaas | 1x/день |
| HackerNews | Top stories, Show HN | 1x/день |
| Product Hunt | Новые продукты за 24h | 1x/день |
| GitHub | Trending repositories | 1x/день |

### 2. Обработка (Processing)
- Дедупликация
- Извлечение ключевых слов
- Категоризация по нишам

### 3. AI-анализ (Claude/Groq)
Промпт для анализа:
```
Проанализируй данные и найди SaaS-идеи:
- Какие проблемы люди обсуждают?
- Какие инструменты ищут?
- Какие ниши растут?

Для каждой идеи:
1. Название продукта
2. Проблема, которую решает
3. Целевая аудитория
4. Модель монетизации (подписка)
5. Конкуренты
6. Сложность MVP (low/medium/high)
7. Потенциал (1-10)
```

### 4. Скоринг и ранжирование
```
Score = (Потенциал × 4) + (MVP простой ? 30 : 15) + (Монетизация понятна ? 15 : 0)
```

### 5. Уведомления
- Telegram: топ-3 идеи каждый день
- JSON: полный отчёт

---

## Структура файлов

```
saas_pipeline/
├── collectors/              # Сборщики данных
│   ├── google_trends.py     # ✅ Уже есть
│   ├── reddit.py            # ✅ Уже есть
│   ├── hackernews.py        # Новый
│   ├── producthunt.py       # Новый
│   └── github_trending.py   # Новый
├── analyzer/
│   ├── claude_analyzer.py   # Claude API
│   └── prompts.py           # Промпты для анализа
├── storage/
│   ├── json_storage.py      # ✅ Уже есть
│   └── database.py          # SQLite (будущее)
├── notifier/
│   └── telegram.py          # Telegram бот
├── n8n/
│   └── workflow.json        # Экспорт workflow для n8n
└── main.py                  # Главный скрипт
```

---

## Следующие шаги

1. [x] Google Trends collector
2. [x] Reddit collector
3. [ ] HackerNews collector
4. [ ] Product Hunt collector
5. [ ] Claude/Groq analyzer
6. [ ] n8n workflow
7. [ ] Telegram notifications
